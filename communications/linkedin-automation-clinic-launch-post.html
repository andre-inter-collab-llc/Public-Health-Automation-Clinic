<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>LinkedIn Post: Public Health Automation Clinic Launch – Public Health Automation Clinic</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Public Health Automation Clinic</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../chapters/13-automation-intake.html"> 
<span class="menu-text">Automation Clinic</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../communications/google-forms-automation-clinic-blueprint.html"> 
<span class="menu-text">Form Blueprint</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../communications/linkedin-automation-clinic-launch-post.html" aria-current="page"> 
<span class="menu-text">Launch Post</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#post-draft" id="toc-post-draft" class="nav-link active" data-scroll-target="#post-draft"><span class="header-section-number">1</span> Post Draft</a></li>
  <li><a href="#post-notes" id="toc-post-notes" class="nav-link" data-scroll-target="#post-notes"><span class="header-section-number">2</span> Post Notes</a></li>
  <li><a href="#responses-to-comments" id="toc-responses-to-comments" class="nav-link" data-scroll-target="#responses-to-comments"><span class="header-section-number">3</span> Responses to Comments</a>
  <ul class="collapse">
  <li><a href="#reshare-what-a-great-effort-from-andré" id="toc-reshare-what-a-great-effort-from-andré" class="nav-link" data-scroll-target="#reshare-what-a-great-effort-from-andré"><span class="header-section-number">3.1</span> Reshare: “What a great effort from André”</a></li>
  <li><a href="#repost-edwin-former-manager-no-notes" id="toc-repost-edwin-former-manager-no-notes" class="nav-link" data-scroll-target="#repost-edwin-former-manager-no-notes"><span class="header-section-number">3.2</span> Repost: Edwin (former manager, no notes)</a></li>
  <li><a href="#repost-2-no-notes" id="toc-repost-2-no-notes" class="nav-link" data-scroll-target="#repost-2-no-notes"><span class="header-section-number">3.3</span> Repost #2 (no notes)</a></li>
  <li><a href="#comment-mph-curricula-and-automation-training-gaps" id="toc-comment-mph-curricula-and-automation-training-gaps" class="nav-link" data-scroll-target="#comment-mph-curricula-and-automation-training-gaps"><span class="header-section-number">3.4</span> Comment: MPH curricula and automation training gaps</a></li>
  <li><a href="#comment-handling-updates-and-evolving-needs-for-anonymized-solutions" id="toc-comment-handling-updates-and-evolving-needs-for-anonymized-solutions" class="nav-link" data-scroll-target="#comment-handling-updates-and-evolving-needs-for-anonymized-solutions"><span class="header-section-number">3.5</span> Comment: Handling updates and evolving needs for anonymized solutions</a></li>
  <li><a href="#direct-message-brad-phifp-and-amia-competency-model-workgroups" id="toc-direct-message-brad-phifp-and-amia-competency-model-workgroups" class="nav-link" data-scroll-target="#direct-message-brad-phifp-and-amia-competency-model-workgroups"><span class="header-section-number">3.6</span> Direct Message: Brad (PHIFP and AMIA competency model workgroups)</a></li>
  <li><a href="#comment-katie-automation-as-medium-term-fix-architecture-and-interoperability-as-long-term-vision" id="toc-comment-katie-automation-as-medium-term-fix-architecture-and-interoperability-as-long-term-vision" class="nav-link" data-scroll-target="#comment-katie-automation-as-medium-term-fix-architecture-and-interoperability-as-long-term-vision"><span class="header-section-number">3.7</span> Comment: Katie (automation as medium-term fix, architecture and interoperability as long-term vision)</a></li>
  <li><a href="#repost-sam-technology-skepticism-job-identity-tied-to-manual-work" id="toc-repost-sam-technology-skepticism-job-identity-tied-to-manual-work" class="nav-link" data-scroll-target="#repost-sam-technology-skepticism-job-identity-tied-to-manual-work"><span class="header-section-number">3.8</span> Repost: Sam (technology skepticism, job identity tied to manual work)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">LinkedIn Post: Public Health Automation Clinic Launch</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="post-draft" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="post-draft"><span class="header-section-number">1</span> Post Draft</h2>
<p><strong>Public health professionals: stop wasting your expertise on tasks a script could do in seconds.</strong></p>
<p>Throughout my career, I have heard the same story from epidemiologists, registrars, and analysts:</p>
<p>“I spend an entire day renaming files.” “I manually copy data between three spreadsheets every quarter.”</p>
<p>These are not analytical problems. They are mechanical tasks that consume thousands of hours across the workforce, hours better spent on surveillance, outreach, and analysis.</p>
<p>The gap is not technology. It is <strong>translation</strong>: knowing a solution exists, and having someone turn your problem into code.</p>
<p><strong>Today I am launching the Public Health Automation Clinic.</strong></p>
<p>A free service through Intersect Collaborations:</p>
<ol type="1">
<li>Describe a repetitive task via a short intake form</li>
<li>I develop a solution using R, Python, and free open source tools (Posit ecosystem: RStudio, Quarto, Shiny)</li>
<li>The solution is anonymized and published publicly so anyone can benefit</li>
</ol>
<p>No contracts. No invoices. Every solution runs on your computer, no cloud AI subscriptions required.</p>
<p><strong>What qualifies?</strong> Anything repetitive and definable: - Data extraction, cleaning, transformation, or validation - Recurring analyses or surveillance reports - Report generation (epidemiological or project management) - File renaming, conversion, or organization - Business process automation (e.g., project reports from GanttProject) - Any “I do this exact same thing every week/month/quarter” task</p>
<p>The intake form is <strong>anonymous</strong>. Solutions are always anonymized and generalized before publishing.</p>
<p>If you are comfortable, <strong>comment on this post with a challenge you face.</strong> Many of you are fighting the same battles in different offices. Visibility is the first step to solving them at scale. Already have a solution? Share it in the comments too.</p>
<p><strong>Read the full details here:</strong> https://andre-inter-collab-llc.github.io/Bridgeframe-Toolkit/chapters/13-automation-intake.html</p>
<p><strong>Submit your problem:</strong> https://forms.gle/cmE2un2njSVPid8C9</p>
<p>For urgent or private needs: https://www.intersectcollaborations.com/contact</p>
<p>Know someone drowning in manual data work? Tag them.</p>
<p>#PublicHealth #HealthInformatics #Automation #DataScience #Epidemiology #OpenSource #RStats #Python #PublicHealthData #Bridgeframe #ProcessImprovement #HealthIT</p>
<hr>
</section>
<section id="post-notes" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="post-notes"><span class="header-section-number">2</span> Post Notes</h2>
<ul>
<li><strong>Character count</strong>: ~2,800 (within LinkedIn’s 3,000-character limit for posts)</li>
<li><strong>Image suggestion</strong>: Use the Mermaid workflow diagram from the chapter (fig-automation-clinic-flow) or create a simple branded graphic with the text “Public Health Automation Clinic | Free Service | Submit Your Problem”</li>
<li><strong>Timing</strong>: Post Tuesday or Wednesday morning (highest LinkedIn engagement for professional content)</li>
<li><strong>Follow-up</strong>: After initial submissions come in, post a follow-up showing an anonymized example of a problem solved</li>
<li><strong>Engagement strategy</strong>: Monitor comments for problems shared publicly; these indicate high-demand topics to prioritize. Respond to each comment acknowledging the problem and noting it has been captured.</li>
</ul>
<hr>
</section>
<section id="responses-to-comments" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="responses-to-comments"><span class="header-section-number">3</span> Responses to Comments</h2>
<section id="reshare-what-a-great-effort-from-andré" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="reshare-what-a-great-effort-from-andré"><span class="header-section-number">3.1</span> Reshare: “What a great effort from André”</h3>
<p>Thank you for the kind words and for sharing this with your network. The more visibility these kinds of problems get, the closer we get to solving them at scale. If you or anyone in your network has a repetitive task eating into their analytical time, the intake form is always open.</p>
</section>
<section id="repost-edwin-former-manager-no-notes" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="repost-edwin-former-manager-no-notes"><span class="header-section-number">3.2</span> Repost: Edwin (former manager, no notes)</h3>
<p>Thank you for sharing this, Edwin. It means a lot coming from you. You were the one who first pushed me to think about automation in my epidemiology work years ago when you were my manager. A lot of what drives this initiative traces back to that mindset you helped instill: if you are doing the same thing twice, find a way to make the computer do it. I appreciate the support.</p>
</section>
<section id="repost-2-no-notes" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="repost-2-no-notes"><span class="header-section-number">3.3</span> Repost #2 (no notes)</h3>
<p>Really appreciate you helping spread the word. The goal is to reach the people who need this most but might not know a solution exists. Thank you.</p>
</section>
<section id="comment-mph-curricula-and-automation-training-gaps" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="comment-mph-curricula-and-automation-training-gaps"><span class="header-section-number">3.4</span> Comment: MPH curricula and automation training gaps</h3>
<p>This is an excellent point and one I think about often. I agree; most MPH programs treat scripting as an epidemiology tool (clean data, run models, generate output) rather than as a general-purpose problem-solving skill. The result is a workforce that can run a logistic regression in R but still manually renames 200 files by hand.</p>
<p>What is unfortunate is that R and Python are incredibly powerful programming languages capable of far more than data cleaning and statistical analysis. They should be taught as general-purpose tools for any repetitive task, not just epidemiological pipelines.</p>
<p>Business process automation, desktop automation, and workflow design are core competencies in IT business analysis but almost entirely absent from public health training. That is exactly the gap Bridgeframe tries to address: translating tools and thinking between these two worlds.</p>
<p>I would love to see schools of public health incorporate even a single module on “automating the work around the work,” not just the analytical pipeline. If you have connections in that space, I am always happy to collaborate on curriculum ideas.</p>
</section>
<section id="comment-handling-updates-and-evolving-needs-for-anonymized-solutions" class="level3" data-number="3.5">
<h3 data-number="3.5" class="anchored" data-anchor-id="comment-handling-updates-and-evolving-needs-for-anonymized-solutions"><span class="header-section-number">3.5</span> Comment: Handling updates and evolving needs for anonymized solutions</h3>
<p>Great question, and an honest limitation worth acknowledging.</p>
<p>The free clinic is a personal project I work on between paid engagements, my way of giving back to the open source community that has given me so much. Solutions are designed to be modular and well-documented so someone with basic R or Python familiarity can adapt them independently. The goal is a tool you own and understand, not a black box.</p>
<p>That said, for ongoing updates or evolving workflows, the realistic path is a paid consulting engagement through Intersect Collaborations. I am hoping some clients would agree to make the generalizable portions publicly available so others can benefit too.</p>
<p>The full initiative description sets expectations clearly: https://andre-inter-collab-llc.github.io/Bridgeframe-Toolkit/chapters/13-automation-intake.html#the-initiative</p>
</section>
<section id="direct-message-brad-phifp-and-amia-competency-model-workgroups" class="level3" data-number="3.6">
<h3 data-number="3.6" class="anchored" data-anchor-id="direct-message-brad-phifp-and-amia-competency-model-workgroups"><span class="header-section-number">3.6</span> Direct Message: Brad (PHIFP and AMIA competency model workgroups)</h3>
<p>Brad, great to hear from you. Thank you for thinking of me for this.</p>
<p>I would love to support both efforts. The PHIFP work hits close to home given my time at CDC, and I think I could bring some useful perspective there. The AMIA Public Health Working Group would also be a great opportunity for me to connect with that community.</p>
<p>Count me in. Just let me know what the next steps look like for each.</p>
<p>Also, would you be up for meeting sometime? It has been a while and I would enjoy catching up beyond just LinkedIn messages.</p>
</section>
<section id="comment-katie-automation-as-medium-term-fix-architecture-and-interoperability-as-long-term-vision" class="level3" data-number="3.7">
<h3 data-number="3.7" class="anchored" data-anchor-id="comment-katie-automation-as-medium-term-fix-architecture-and-interoperability-as-long-term-vision"><span class="header-section-number">3.7</span> Comment: Katie (automation as medium-term fix, architecture and interoperability as long-term vision)</h3>
<p>Katie, I agree with everything you said here.</p>
<p>The Automation Clinic is absolutely a bandaid for epidemiologists who are currently stuck in inefficient systems. It addresses the immediate pain, but it is not the long-term answer.</p>
<p>This initiative is actually a smaller piece of a broader educational and advocacy effort I introduced here: https://www.linkedin.com/posts/andre-van-zyl_publichealth-healthinformatics-businessanalysis-activity-7415540643919388673-HCiw?utm_source=share&amp;utm_medium=member_desktop&amp;rcm=ACoAAAzwOI4BP15357dY_8IhStGnKRpzeLLHfdo</p>
<p>On the education front, I am currently piloting a training program aimed at teaching public health professionals who are tied down to Excel reporting workflows how to program their way free.</p>
<p>Unfortunately, LinkedIn seems to be the most effective way to reach other professionals, and I have to work within character limitations. I am capturing my detailed thoughts on all of these issues, architecture, interoperability, governance, education, in the Bridgeframe Toolkit: https://andre-inter-collab-llc.github.io/Bridgeframe-Toolkit/</p>
</section>
<section id="repost-sam-technology-skepticism-job-identity-tied-to-manual-work" class="level3" data-number="3.8">
<h3 data-number="3.8" class="anchored" data-anchor-id="repost-sam-technology-skepticism-job-identity-tied-to-manual-work"><span class="header-section-number">3.8</span> Repost: Sam (technology skepticism, job identity tied to manual work)</h3>
<p>Sam, thank you for sharing this and for the honest take. Your skepticism about technology is healthy, and I share it more than people might expect. The goal here is not technology for its own sake. It is about freeing people to do the work that actually requires their expertise.</p>
<p>You raised something important that does not get talked about enough: some people’s entire job descriptions are built around these manual processes. That is a real and uncomfortable tension. Automating a task is straightforward. Rethinking someone’s role so they can contribute at a higher level is a much harder organizational problem, and it requires leadership that is willing to invest in retraining and redesigning positions rather than just eliminating them.</p>
<p>The vision is not fewer people. It is the same people doing more meaningful work. But that only happens if organizations commit to the transition, not just the tool.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>